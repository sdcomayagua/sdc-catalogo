<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Soluciones Digitales Comayagua</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ICONOS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  --bg:#07162c;
  --card:#0c2342;
  --accent:#2df3d6;
  --text:#eafcff;
  --green:#25D366;
}
.light{
  --bg:#f3f6fa;
  --card:#ffffff;
  --accent:#0077ff;
  --text:#0a1a2a;
}
*{box-sizing:border-box;font-family:system-ui}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  transition:.3s;
}
header{
  text-align:center;
  padding:20px;
}
header h1{
  color:var(--accent);
  margin-bottom:5px;
}
.toggle{
  position:absolute;
  right:15px;
  top:15px;
  font-size:22px;
  cursor:pointer;
}
.search{
  margin:15px auto;
  width:90%;
}
.search input{
  width:100%;
  padding:15px;
  border-radius:30px;
  border:none;
  outline:none;
  background:#0e2c55;
  color:white;
}
.categories{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
  padding:15px;
}
.cat{
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  padding:20px;
  border-radius:15px;
  text-align:center;
  cursor:pointer;
  transition:.3s;
}
.cat i{
  font-size:28px;
  margin-bottom:8px;
}
.cat:hover{transform:scale(1.05)}
.section{
  padding:10px 15px;
}
.section h2{
  margin-top:30px;
}
.product{
  display:flex;
  gap:12px;
  background:var(--card);
  padding:12px;
  border-radius:15px;
  margin-bottom:12px;
}
.product img{
  width:90px;
  height:90px;
  border-radius:10px;
  object-fit:cover;
}
.product-info{
  flex:1;
}
.price{color:#4cff7a;font-weight:bold}
.btn{
  display:block;
  margin-top:8px;
  padding:12px;
  text-align:center;
  border-radius:25px;
  background:var(--green);
  color:black;
  font-weight:bold;
  text-decoration:none;
}
.btn.off{background:#555;color:white}
.videos i{
  font-size:20px;
  margin-right:10px;
}
.float{
  position:fixed;
  right:15px;
  bottom:15px;
  background:var(--green);
  padding:14px 18px;
  border-radius:30px;
  color:black;
  font-weight:bold;
  text-decoration:none;
}
</style>
</head>

<body>

<div class="toggle" onclick="toggleMode()">üåô</div>

<header>
  <!-- LOGO -->
  <!-- <img src="TU_LOGO_AQUI.png" width="80"> -->
  <h1>Soluciones Digitales Comayagua</h1>
  <p>Accesorios Gamer, PC y M√°s</p>
</header>

<div class="search">
  <input type="text" id="search" placeholder="Buscar producto...">
</div>

<div class="categories">
  <div class="cat" onclick="filterMain('gamer')"><i class="fa-solid fa-gamepad"></i>Accesorios Gamer</div>
  <div class="cat" onclick="filterMain('movil')"><i class="fa-solid fa-mobile-screen"></i>Accesorios Celular</div>
  <div class="cat" onclick="filterMain('pc')"><i class="fa-solid fa-desktop"></i>Accesorios PC</div>
  <div class="cat" onclick="filterMain('streaming')"><i class="fa-solid fa-tv"></i>Streaming</div>
</div>

<div id="content"></div>

<a class="float" href="https://wa.me/50432429490" target="_blank">
<i class="fa-brands fa-whatsapp"></i> ESCR√çBENOS
</a>

<script>
const SHEET_ID="1J-y47gPZuuyQOxaj9OJa4tMzR2IjfQVAzCR1i928dng";
const URL=`https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json`;

let products=[];
fetch(URL).then(r=>r.text()).then(t=>{
const json=JSON.parse(t.substring(47,t.length-2));
const cols=json.table.cols.map(c=>c.label.toLowerCase());
json.table.rows.forEach(r=>{
let p={};
r.c.forEach((c,i)=>p[cols[i]]=c?c.v:"");
products.push(p);
});
render(products);
});

function render(list){
let html="";
let groups={};
list.forEach(p=>{
if(p.estado!=="activo")return;
if(!groups[p.subcategoria])groups[p.subcategoria]=[];
groups[p.subcategoria].push(p);
});
for(let g in groups){
html+=`<div class="section"><h2>${g}</h2>`;
groups[g].forEach(p=>{
html+=`
<div class="product">
<img src="${p.imagen}">
<div class="product-info">
<b>${p.nombre}</b><br>
<span class="price">Lps. ${p.precio}</span><br>
Stock: ${p.stock}<br>
<small>${p.descripcion||""}</small>
<div class="videos">
${p.tiktok?`<a href="${p.tiktok}" target="_blank"><i class="fa-brands fa-tiktok"></i></a>`:""}
${p.youtube?`<a href="${p.youtube}" target="_blank"><i class="fa-brands fa-youtube"></i></a>`:""}
</div>
${p.stock>0?`<a class="btn" href="https://wa.me/50432429490?text=${encodeURIComponent(p.whatsapp)}">PEDIR POR WHATSAPP</a>`:
`<div class="btn off">Consultar disponibilidad</div>`}
</div></div>`;
});
html+="</div>";
}
document.getElementById("content").innerHTML=html;
}

function filterMain(cat){
render(products.filter(p=>p.categoria===cat));
}

document.getElementById("search").oninput=e=>{
let v=e.target.value.toLowerCase();
render(products.filter(p=>p.nombre.toLowerCase().includes(v)));
}

function toggleMode(){
document.body.classList.toggle("light");
}
</script>

</body>
</html>
