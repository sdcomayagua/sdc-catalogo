<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Soluciones Digitales Comayagua</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ICONOS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  --neon:#00f7ff;
  --bg:#050b14;
  --card:#0b1627;
}

body{
  margin:0;
  font-family: 'Segoe UI', sans-serif;
  background:radial-gradient(circle at top,#0a2a4f,#02070f);
  color:#fff;
}

/* HEADER */
header{
  padding:40px 20px;
  text-align:center;
}
header h1{
  color:var(--neon);
  text-shadow:0 0 15px var(--neon);
}
header p{opacity:.8}

/* MENUS */
.menu, .submenu{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:10px;
  margin:15px 0;
}
.menu button, .submenu button{
  background:#0e203a;
  border:1px solid var(--neon);
  color:#fff;
  padding:8px 16px;
  border-radius:20px;
  cursor:pointer;
  transition:.3s;
}
.menu button.active,
.submenu button.active,
.menu button:hover,
.submenu button:hover{
  background:var(--neon);
  color:#000;
  box-shadow:0 0 10px var(--neon);
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:20px;
  padding:20px;
}

/* CARD */
.card{
  background:linear-gradient(180deg,#0d1f36,#08111f);
  border-radius:15px;
  padding:15px;
  box-shadow:0 0 25px rgba(0,247,255,.15);
  animation:fadeUp .6s ease;
}
@keyframes fadeUp{
  from{opacity:0; transform:translateY(30px)}
  to{opacity:1; transform:none}
}
.card img{
  width:100%;
  border-radius:10px;
}
.card h3{color:var(--neon)}
.price{color:#6cff6c;font-weight:bold}
.stock{font-size:13px;opacity:.8}

.desc{
  margin:10px 0;
  font-size:14px;
  white-space:pre-line;
}

/* BOTONES */
.actions a{
  display:inline-flex;
  align-items:center;
  gap:6px;
  margin:5px 5px 0 0;
  padding:8px 12px;
  border-radius:20px;
  text-decoration:none;
  font-size:14px;
}
.whatsapp{background:#25D366;color:#000}
.tiktok{background:#000;color:#fff}
.youtube{background:#ff0000;color:#fff}

/* FLOAT WHATSAPP */
.float-wa{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#25D366;
  color:#000;
  padding:12px 16px;
  border-radius:30px;
  font-weight:bold;
  text-decoration:none;
  box-shadow:0 0 15px #25D366;
}
</style>
</head>

<body>

<header>
  <h1>Soluciones Digitales Comayagua</h1>
  <p>Catálogo Gamer • PC • Móvil • Streaming</p>
</header>

<div class="menu" id="menuCategorias"></div>
<div class="submenu" id="menuSubcategorias"></div>
<div class="grid" id="productos"></div>

<a class="float-wa" href="https://wa.me/50432429490" target="_blank">
  <i class="fab fa-whatsapp"></i> ESCRÍBENOS
</a>

<script>
const URL="https://docs.google.com/spreadsheets/d/1J-y47gPZuuyQOxaj9OJa4tMzR2IjfQVAzCR1i928dng/gviz/tq?tqx=out:json";
let data=[], catActual="", subActual="";

fetch(URL).then(r=>r.text()).then(t=>{
  const json=JSON.parse(t.substr(47).slice(0,-2));
  const cols=json.table.cols.map(c=>c.label.toLowerCase());
  data=json.table.rows.map(r=>{
    let o={};
    r.c.forEach((c,i)=>o[cols[i]]=c?.v||"");
    return o;
  });
  crearMenus();
  render();
});

function crearMenus(){
  const cats=[...new Set(data.map(d=>d.categoria))];
  const cont=document.getElementById("menuCategorias");
  cont.innerHTML="";
  cats.forEach(c=>{
    const b=document.createElement("button");
    b.textContent=c.toUpperCase();
    b.onclick=()=>{catActual=c; subActual=""; activar(b); crearSub(); render();}
    cont.appendChild(b);
  });
}

function crearSub(){
  const subs=[...new Set(data.filter(d=>d.categoria==catActual).map(d=>d.subcategoria))];
  const cont=document.getElementById("menuSubcategorias");
  cont.innerHTML="";
  subs.forEach(s=>{
    const b=document.createElement("button");
    b.textContent=s;
    b.onclick=()=>{subActual=s; activar(b); render();}
    cont.appendChild(b);
  });
}

function activar(btn){
  [...btn.parentNode.children].forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

function render(){
  const cont=document.getElementById("productos");
  cont.innerHTML="";
  data.filter(d=>
    d.estado=="activo" &&
    (!catActual||d.categoria==catActual) &&
    (!subActual||d.subcategoria==subActual)
  ).forEach(d=>{
    cont.innerHTML+=`
    <div class="card">
      <img src="${d.imagen}">
      <h3>${d.nombre}</h3>
      <div class="price">Lps. ${d.precio}</div>
      <div class="stock">Stock: ${d.stock}</div>
      <div class="desc">${d.descripcion||""}</div>
      <div class="actions">
        <a class="whatsapp" href="https://wa.me/50432429490?text=${encodeURIComponent(d.whatsapp)}" target="_blank">
          <i class="fab fa-whatsapp"></i> Pedir
        </a>
        ${d.tiktok?`<a class="tiktok" href="${d.tiktok}" target="_blank"><i class="fab fa-tiktok"></i></a>`:""}
        ${d.youtube?`<a class="youtube" href="${d.youtube}" target="_blank"><i class="fab fa-youtube"></i></a>`:""}
      </div>
    </div>`;
  });
}
</script>

</body>
</html>
