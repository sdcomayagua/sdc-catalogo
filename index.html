<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Soluciones Digitales Comayagua</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ICONOS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
:root{
  --bg:#050b14;
  --card:#0b1628;
  --neon:#00fff7;
  --text:#e6f1ff;
  --accent:#00ff9d;
}
.light{
  --bg:#f4f6fb;
  --card:#ffffff;
  --text:#111;
}
*{box-sizing:border-box;font-family:system-ui}
body{
  margin:0;
  background:radial-gradient(circle at top,#062b52,var(--bg));
  color:var(--text);
  transition:.3s;
}
header{
  text-align:center;
  padding:50px 15px;
}
header h1{
  color:var(--neon);
  text-shadow:0 0 20px var(--neon);
}
nav{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px;
}
nav button{
  background:transparent;
  border:1px solid var(--neon);
  color:var(--neon);
  padding:8px 18px;
  border-radius:20px;
  cursor:pointer;
}
nav button.active,nav button:hover{
  background:var(--neon);
  color:#000;
}
#subcats{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:8px;
  margin-top:10px;
}
#subcats button{
  background:#0c1d38;
  color:var(--accent);
  border:1px solid var(--accent);
  padding:5px 12px;
  border-radius:15px;
  cursor:pointer;
}
.controls{
  display:flex;
  justify-content:center;
  gap:10px;
  margin:20px;
}
.controls input,.controls select{
  padding:8px 12px;
  border-radius:8px;
  border:none;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
  padding:20px;
}
.card{
  background:linear-gradient(180deg,#0c1d38,var(--card));
  border-radius:16px;
  padding:15px;
  position:relative;
  animation:float 4s ease-in-out infinite;
}
@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-6px)}
}
.card img{
  width:100%;
  border-radius:12px;
}
.badge{
  position:absolute;
  top:10px;
  left:10px;
  background:gold;
  color:#000;
  padding:3px 10px;
  font-size:12px;
  border-radius:10px;
}
.price{color:#00ff9d;font-size:18px}
.desc{font-size:14px;opacity:.9}
.btn{
  margin-top:10px;
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:linear-gradient(90deg,#00ff9d,#00fff7);
  font-weight:bold;
  cursor:pointer;
}
.video a{
  display:inline-block;
  margin-right:10px;
  font-size:22px;
}
.floating{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#25d366;
  color:#000;
  padding:14px 20px;
  border-radius:30px;
  font-weight:bold;
}
.toggle{
  position:fixed;
  top:20px;
  right:20px;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="toggle" onclick="toggleMode()">üåì</div>

<header>
<h1>Soluciones Digitales Comayagua</h1>
<p>Cat√°logo Gamer ‚Ä¢ PC ‚Ä¢ M√≥vil ‚Ä¢ Streaming</p>
<nav id="cats"></nav>
<div id="subcats"></div>
</header>

<div class="controls">
<input id="search" placeholder="Buscar producto">
<select id="sort">
<option value="">Ordenar</option>
<option value="asc">Precio ‚Üë</option>
<option value="desc">Precio ‚Üì</option>
</select>
</div>

<div class="grid" id="grid"></div>

<a class="floating" href="https://wa.me/50432429490" target="_blank">
<i class="fab fa-whatsapp"></i> ESCR√çBENOS
</a>

<script>
const SHEET_ID="1J-y47gPZuuyQOxaj9OJa4tMzR2IjfQVAzCR1i928dng";
const URL=`https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json`;

let items=[],cat="",sub="";

fetch(URL).then(r=>r.text()).then(t=>{
const json=JSON.parse(t.substring(47).slice(0,-2));
items=json.table.rows.map(r=>{
let o={};
json.table.cols.forEach((c,i)=>o[c.label]=r.c[i]?.v||"");
return o;
});
renderCats();
render();
});

function renderCats(){
const cats=[...new Set(items.map(i=>i.categoria))];
const nav=document.getElementById("cats");
nav.innerHTML='<button onclick="filterCat(\'\')" class="active">TODOS</button>';
cats.forEach(c=>{
nav.innerHTML+=`<button onclick="filterCat('${c}')">${c.toUpperCase()}</button>`;
});
}

function filterCat(c){
cat=c;sub="";
renderSub();
render();
}

function renderSub(){
const sc=[...new Set(items.filter(i=>!cat||i.categoria===cat).map(i=>i.subcategoria).filter(Boolean))];
const el=document.getElementById("subcats");
el.innerHTML="";
sc.forEach(s=>{
el.innerHTML+=`<button onclick="sub='${s}';render()">${s}</button>`;
});
}

function render(){
let list=items.filter(i=>(!cat||i.categoria===cat)&&(!sub||i.subcategoria===sub));
const q=document.getElementById("search").value.toLowerCase();
if(q) list=list.filter(i=>i.nombre.toLowerCase().includes(q));
const s=document.getElementById("sort").value;
if(s) list.sort((a,b)=>s==="asc"?a.precio-b.precio:b.precio-a.precio);

const g=document.getElementById("grid");
g.innerHTML="";
list.forEach(i=>{
g.innerHTML+=`
<div class="card">
${i.estado==="destacado"?'<div class="badge">‚≠ê DESTACADO</div>':""}
<img src="${i.imagen}">
<h3>${i.nombre}</h3>
<div class="price">Lps. ${i.precio}</div>
<div>Stock: ${i.stock}</div>
<p class="desc">${i.descripcion||""}</p>
<div class="video">
${i.tiktok?`<a href="${i.tiktok}" target="_blank"><i class="fab fa-tiktok"></i></a>`:""}
${i.youtube?`<a href="${i.youtube}" target="_blank"><i class="fab fa-youtube"></i></a>`:""}
</div>
<button class="btn" onclick="wa(\`${i.whatsapp}\`)">
${i.stock>0?"üõí PEDIR POR WHATSAPP":"üì¶ CONSULTAR DISPONIBILIDAD"}
</button>
</div>`;
});
}

function wa(msg){
window.open(`https://wa.me/50432429490?text=${encodeURIComponent(msg)}`);
}
function toggleMode(){
document.body.classList.toggle("light");
}
</script>
</body>
</html>
