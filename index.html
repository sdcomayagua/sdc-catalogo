<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Soluciones Digitales Comayagua | Cat√°logo</title>

<meta name="description" content="Cat√°logo Gamer, PC, M√≥vil y Streaming en Comayagua. Pedidos directos por WhatsApp.">
<meta name="keywords" content="Gamer, Accesorios, Celulares, Streaming, Comayagua">
<meta name="author" content="Soluciones Digitales Comayagua">

<style>
:root{
  --bg:#061a2f;
  --card:#0b2a4a;
  --neon:#19f6e8;
  --green:#25d366;
  --text:#eafcff;
}
body{
  margin:0;
  font-family:system-ui,Segoe UI;
  background:radial-gradient(circle at top,#0c3b63,#020d1a);
  color:var(--text);
}
header{
  padding:50px 20px;
  text-align:center;
}
header h1{
  color:var(--neon);
  font-size:2.5rem;
}
header p{
  opacity:.85;
}
.controls{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px;
  margin-bottom:30px;
}
select,input{
  background:#061a2f;
  border:1px solid #19f6e840;
  color:white;
  padding:12px 14px;
  border-radius:12px;
  font-size:1rem;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
  padding:0 20px 80px;
}
.card{
  background:linear-gradient(180deg,#0b2a4a,#071a2d);
  border-radius:18px;
  overflow:hidden;
  box-shadow:0 0 25px #000;
  transition:.3s;
}
.card:hover{
  transform:translateY(-5px);
}
.card img{
  width:100%;
  height:220px;
  object-fit:cover;
}
.card .body{
  padding:16px;
}
.card h3{
  margin:0 0 8px;
}
.price{
  color:#4cff9f;
  font-weight:bold;
}
.stock{
  font-size:.9rem;
  opacity:.85;
}
.desc{
  font-size:.9rem;
  margin:10px 0;
}
.btn{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:14px;
  border-radius:30px;
  background:var(--green);
  color:#003b1b;
  font-weight:700;
  border:none;
  cursor:pointer;
}
.btn.off{
  background:#ffb703;
}
.video{
  display:flex;
  gap:10px;
  margin:10px 0;
}
.video a{
  flex:1;
  text-align:center;
  padding:8px;
  border-radius:10px;
  color:white;
  text-decoration:none;
}
.tiktok{background:#000;}
.youtube{background:#e62117;}

.floating{
  position:fixed;
  bottom:20px;
  right:20px;
  background:var(--green);
  color:#003b1b;
  padding:14px 18px;
  border-radius:40px;
  font-weight:700;
  display:flex;
  align-items:center;
  gap:10px;
  text-decoration:none;
  box-shadow:0 0 20px #25d366;
}
</style>
</head>

<body>

<header>
<h1>Soluciones Digitales Comayagua</h1>
<p>Cat√°logo Gamer ‚Ä¢ PC ‚Ä¢ M√≥vil ‚Ä¢ Streaming</p>
</header>

<div class="controls">
<select id="categorySelect">
<option value="all">Categor√≠as</option>
</select>

<select id="subSelect">
<option value="all">Subcategor√≠as</option>
</select>

<input id="search" placeholder="Buscar producto...">
</div>

<div class="grid" id="products"></div>

<a class="floating" href="https://wa.me/50432429490" target="_blank">
üí¨ ESCR√çBENOS
</a>

<script>
const SHEET_ID="1J-y47gPZuuyQOxaj9OJa4tMzR2IjfQVAzCR1i928dng";
const WHATSAPP_NUMBER="50432429490";

let DATA=[];

fetch(`https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json`)
.then(r=>r.text())
.then(txt=>{
  const json=JSON.parse(txt.substring(47,txt.length-2));
  const cols=json.table.cols.map(c=>c.label);
  DATA=json.table.rows.map(r=>{
    let o={};
    r.c.forEach((c,i)=>o[cols[i]]=c?.v||"");
    return o;
  }).filter(x=>x.nombre);
  buildCategories();
  render();
});

function buildCategories(){
  const cats=[...new Set(DATA.map(x=>x.categoria))];
  cats.forEach(c=>{
    const op=document.createElement("option");
    op.value=c;op.textContent=c.toUpperCase();
    categorySelect.appendChild(op);
  });
}

categorySelect.onchange=()=>{
  subSelect.innerHTML='<option value="all">Subcategor√≠as</option>';
  const subs=[...new Set(DATA.filter(x=>categorySelect.value=="all"||x.categoria==categorySelect.value).map(x=>x.subcategoria).filter(x=>x))];
  subs.forEach(s=>{
    const o=document.createElement("option");
    o.value=s;o.textContent=s;
    subSelect.appendChild(o);
  });
  render();
};
subSelect.onchange=render;
search.oninput=render;

function render(){
  products.innerHTML="";
  DATA.filter(x=>{
    return (categorySelect.value=="all"||x.categoria==categorySelect.value)
    && (subSelect.value=="all"||x.subcategoria==subSelect.value)
    && x.nombre.toLowerCase().includes(search.value.toLowerCase());
  }).forEach(p=>{
    const btn=p.stock>0
      ? `<a class="btn" href="https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(p.whatsapp)}">üü¢ PEDIR POR WHATSAPP</a>`
      : `<div class="btn off">‚ö† CONSULTAR DISPONIBILIDAD</div>`;

    products.innerHTML+=`
    <div class="card">
      <img src="${p.imagen}">
      <div class="body">
        <h3>${p.nombre}</h3>
        <div class="price">Lps. ${p.precio}</div>
        <div class="stock">Stock: ${p.stock}</div>
        <div class="desc">${(p.descripcion||"").replace(/\n/g,"<br>")}</div>
        <div class="video">
          ${p.tiktok?`<a class="tiktok" href="${p.tiktok}" target="_blank">TikTok</a>`:""}
          ${p.youtube?`<a class="youtube" href="${p.youtube}" target="_blank">YouTube</a>`:""}
        </div>
        ${btn}
      </div>
    </div>`;
  });
}
</script>

</body>
</html>
