<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Soluciones Digitales Comayagua</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ICONOS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  --bg:#071426;
  --card:#0e223a;
  --neon:#00f7ff;
  --green:#25D366;
  --text:#eafcff;
}
*{box-sizing:border-box;font-family:system-ui;}
body{margin:0;background:radial-gradient(circle at top,#0a2a4a,#020b18);color:var(--text)}

header{text-align:center;padding:50px 15px}
header h1{color:var(--neon);text-shadow:0 0 20px var(--neon)}
header p{opacity:.8}

#categoryBar,#subBar{
display:flex;flex-wrap:wrap;justify-content:center;gap:10px;padding:10px}

.btn{
padding:10px 18px;
border-radius:30px;
border:1px solid var(--neon);
background:transparent;
color:var(--neon);
cursor:pointer;
transition:.3s;
}
.btn.active,.btn:hover{
background:var(--neon);
color:#000;
box-shadow:0 0 20px var(--neon)
}

#products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
gap:20px;
padding:30px;
max-width:1400px;
margin:auto;
}

.card{
background:linear-gradient(180deg,#0e223a,#071426);
border-radius:18px;
overflow:hidden;
box-shadow:0 0 30px #000;
transition:.3s;
animation:fade .6s ease;
}
.card:hover{transform:translateY(-6px)}

.card img{width:100%;height:220px;object-fit:cover}

.card .content{padding:15px}

.price{color:#00ff88;font-weight:bold}
.stock{font-size:13px;opacity:.8}

.desc{
font-size:14px;
margin:10px 0;
line-height:1.5
}

.actions a{
display:block;
margin-top:8px;
padding:12px;
border-radius:30px;
text-align:center;
font-weight:bold;
text-decoration:none;
}

.whatsapp{background:var(--green);color:#000}
.consultar{background:#ffaa00;color:#000}

.video{
display:flex;
gap:8px;
margin-top:10px
}
.video a{
flex:1;
padding:10px;
border-radius:20px;
text-align:center;
font-size:14px;
color:#fff;
}
.tiktok{background:#000}
.youtube{background:#ff0000}

#floatWA{
position:fixed;
bottom:20px;
right:20px;
background:var(--green);
color:#000;
padding:14px 18px;
border-radius:40px;
font-weight:bold;
display:flex;
align-items:center;
gap:8px;
text-decoration:none;
box-shadow:0 0 25px var(--green)
}

@keyframes fade{
from{opacity:0;transform:translateY(20px)}
to{opacity:1}
}
</style>
</head>

<body>

<header>
<h1>Soluciones Digitales Comayagua</h1>
<p>Cat谩logo Gamer 路 PC 路 M贸vil 路 Streaming</p>
</header>

<div id="categoryBar"></div>
<div id="subBar"></div>

<div id="products"></div>

<a id="floatWA" target="_blank">
<i class="fab fa-whatsapp"></i> ESCRBENOS
</a>

<script>
const SHEET_ID="1J-y47gPZuuyQOxaj9OJa4tMzR2IjfQVAzCR1i928dng";
const URL=`https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json`;

let data=[],cat="",sub="";

fetch(URL)
.then(r=>r.text())
.then(t=>{
const json=JSON.parse(t.substr(47).slice(0,-2));
const headers=json.table.cols.map(c=>c.label);
data=json.table.rows.map(r=>{
let o={};
headers.forEach((h,i)=>o[h]=r.c[i]?.v||"");
return o;
});
init();
});

function init(){
buildCategories();
selectCategory([...new Set(data.map(d=>d.categoria))][0]);
}

function buildCategories(){
const bar=document.getElementById("categoryBar");
bar.innerHTML="";
[...new Set(data.map(d=>d.categoria))].forEach(c=>{
const b=document.createElement("button");
b.className="btn";
b.textContent=c.toUpperCase();
b.onclick=()=>selectCategory(c);
bar.appendChild(b);
});
}

function selectCategory(c){
cat=c;sub="";
[...document.querySelectorAll("#categoryBar .btn")].forEach(b=>{
b.classList.toggle("active",b.textContent.toLowerCase()==c);
});
buildSub();
render();
}

function buildSub(){
const bar=document.getElementById("subBar");
bar.innerHTML="";
[...new Set(data.filter(d=>d.categoria==cat).map(d=>d.subcategoria))].forEach(s=>{
const b=document.createElement("button");
b.className="btn";
b.textContent=s;
b.onclick=()=>{sub=s;render()};
bar.appendChild(b);
});
}

function render(){
const box=document.getElementById("products");
box.innerHTML="";
data.filter(d=>d.categoria==cat && (!sub || d.subcategoria==sub)).forEach(p=>{
box.innerHTML+=`
<div class="card">
<img src="${p.imagen}">
<div class="content">
<h3>${p.nombre}</h3>
<div class="price">Lps. ${p.precio}</div>
<div class="stock">Stock: ${p.stock}</div>
<div class="desc">${(p.descripcion||"").replace(/\n/g,"<br>")}</div>

<div class="video">
${p.tiktok?`<a class="tiktok" href="${p.tiktok}" target="_blank"><i class="fab fa-tiktok"></i></a>`:""}
${p.youtube?`<a class="youtube" href="${p.youtube}" target="_blank"><i class="fab fa-youtube"></i></a>`:""}
</div>

<div class="actions">
${p.stock>0
?`<a class="whatsapp" target="_blank" href="https://wa.me/50432429490?text=${encodeURIComponent(p.whatsapp)}"> PEDIR POR WHATSAPP</a>`
:`<div class="consultar"> CONSULTAR DISPONIBILIDAD</div>`
}
</div>
</div>
</div>`;
});
document.getElementById("floatWA").href="https://wa.me/50432429490";
}
</script>

</body>
</html>
